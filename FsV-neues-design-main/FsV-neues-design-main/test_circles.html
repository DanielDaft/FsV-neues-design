<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Kartenansicht Kreise</title>
<style>
/* Card circles CSS from main index.html */
.card-circles .ue-circle {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 2px solid #ccc;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer !important;
  transition: all 0.2s ease;
  color: white;
  pointer-events: auto !important;
  position: relative !important;
  z-index: 999 !important;
  margin: 2px;
}

.card-circles .ue-circle:hover {
  transform: scale(1.1);
}

.card-circles .ue-circle:not(.blue-empty):not(.blue-filled) {
  background: #22C55E;
  color: white;
  border: 2px solid #22C55E;
}

.card-circles .ue-circle.add-circle-btn {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: transparent;
  border: 2px dashed #22c55e;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  color: #22c55e;
  cursor: pointer !important;
  transition: all 0.2s ease;
  pointer-events: auto !important;
  position: relative !important;
  z-index: 999 !important;
}

.card-circles .quarter-circle {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid #22c55e;
  cursor: pointer;
  background: #f3f4f6;
  position: relative;
  overflow: hidden;
  transition: all 0.2s ease;
  margin: 2px;
}

.card-circles .quarter-circle.pie-25 {
  background: conic-gradient(#22c55e 0deg 90deg, #f3f4f6 90deg 360deg);
}

.card-circles .quarter-circle.pie-50 {
  background: conic-gradient(#22c55e 0deg 180deg, #f3f4f6 180deg 360deg);
}

.test-container {
  padding: 20px;
  max-width: 600px;
  margin: 20px auto;
  border: 1px solid #ccc;
  border-radius: 8px;
}

.circle-row {
  display: flex;
  align-items: center;
  margin: 10px 0;
}

.test-result {
  background: #f0f8ff;
  padding: 10px;
  margin: 10px 0;
  border-radius: 5px;
  border: 1px solid #0066cc;
}
</style>
</head>
<body>

<div class="test-container">
  <h2>Test der Kartenansicht Kreise</h2>
  
  <div class="test-result" id="testResults">
    <strong>Testergebnisse:</strong>
    <ul id="resultList"></ul>
  </div>

  <h3>UE Kreise Test:</h3>
  <div class="card-circles">
    <div class="circle-row">
      <span style="color: #22c55e; font-weight: 600; font-size: 14px; margin-right: 8px;">UE:</span>
      <div class="ue-circle full" onclick="testUEClick(1)" title="UE 1 - Test Klick">1</div>
      <div class="ue-circle full" onclick="testUEClick(2)" title="UE 2 - Test Klick">2</div>
      <div class="ue-circle add-circle-btn" onclick="testAddClick()" title="UE hinzufügen - Test">+</div>
    </div>
  </div>

  <h3>Quarter Kreise Test:</h3>
  <div class="card-circles">
    <div class="circle-row">
      <span style="color: #22c55e; font-weight: 600; font-size: 14px; margin-right: 8px;">UE:</span>
      <div class="quarter-circle pie-25" onclick="testQuarterClick(1)" title="Quarter 1 - 25%"></div>
      <div class="quarter-circle pie-50" onclick="testQuarterClick(2)" title="Quarter 2 - 50%"></div>
      <div class="quarter-circle add-circle-btn" onclick="testAddQuarterClick()" title="Quarter hinzufügen">+</div>
    </div>
  </div>

  <button onclick="runAllTests()" style="padding: 10px 20px; margin: 20px 0; background: #0066cc; color: white; border: none; border-radius: 5px; cursor: pointer;">
    Alle Tests ausführen
  </button>
</div>

<script>
let testResults = [];

function addTestResult(test, result) {
  testResults.push(`${test}: ${result}`);
  updateResultDisplay();
}

function updateResultDisplay() {
  const list = document.getElementById('resultList');
  list.innerHTML = testResults.map(result => `<li>${result}</li>`).join('');
}

function testUEClick(number) {
  addTestResult(`UE Kreis ${number} geklickt`, '✅ ERFOLGREICH');
  console.log(`UE Kreis ${number} wurde geklickt`);
}

function testAddClick() {
  addTestResult('UE Add Button geklickt', '✅ ERFOLGREICH');
  console.log('UE Add Button wurde geklickt');
}

function testQuarterClick(number) {
  addTestResult(`Quarter Kreis ${number} geklickt`, '✅ ERFOLGREICH');
  console.log(`Quarter Kreis ${number} wurde geklickt`);
}

function testAddQuarterClick() {
  addTestResult('Quarter Add Button geklickt', '✅ ERFOLGREICH');
  console.log('Quarter Add Button wurde geklickt');
}

function runAllTests() {
  testResults = [];
  
  // Automatische Klick-Tests
  const ueCircles = document.querySelectorAll('.ue-circle:not(.add-circle-btn)');
  const addButtons = document.querySelectorAll('.add-circle-btn');
  const quarterCircles = document.querySelectorAll('.quarter-circle:not(.add-circle-btn)');

  addTestResult('UE Kreise gefunden', ueCircles.length + ' Stück');
  addTestResult('Add Buttons gefunden', addButtons.length + ' Stück');
  addTestResult('Quarter Kreise gefunden', quarterCircles.length + ' Stück');

  // Test der Event Handler
  ueCircles.forEach((circle, index) => {
    if (circle.onclick) {
      addTestResult(`UE Kreis ${index + 1} Event Handler`, '✅ VORHANDEN');
    } else {
      addTestResult(`UE Kreis ${index + 1} Event Handler`, '❌ FEHLT');
    }
  });

  addButtons.forEach((button, index) => {
    if (button.onclick) {
      addTestResult(`Add Button ${index + 1} Event Handler`, '✅ VORHANDEN');
    } else {
      addTestResult(`Add Button ${index + 1} Event Handler`, '❌ FEHLT');
    }
  });
}

// Automatische Tests beim Laden
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(runAllTests, 500);
});
</script>

</body>
</html>